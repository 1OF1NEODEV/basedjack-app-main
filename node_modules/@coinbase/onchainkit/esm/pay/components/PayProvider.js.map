{"version":3,"file":"PayProvider.js","sources":["../../../src/pay/components/PayProvider.tsx"],"sourcesContent":null,"names":["emptyContext","PayContext","createContext","usePayContext","context","useContext","Error","PayProvider","chargeHandler","children","isSponsored","onStatus","productId","config","paymaster","useOnchainKit","address","chainId","isConnected","useAccount","connectAsync","useConnect","switchChainAsync","useSwitchChain","chargeId","setChargeId","useState","transactionId","setTransactionId","errorMessage","setErrorMessage","isSmartWallet","useIsWalletACoinbaseSmartWallet","fetchedDataUseEffect","useRef","fetchedDataHandleSubmit","userRejectedRef","contractsRef","insufficientBalanceRef","priceInUSDCRef","fetchData","useCallback","updateLifecycleStatus","statusName","PAY_LIFECYCLESTATUS","FETCHING_DATA","statusData","contracts","hydratedChargeId","insufficientBalance","priceInUSDC","error","fetchContracts","GENERIC_ERROR_MESSAGE","ERROR","code","PayErrorCode","UNEXPECTED_ERROR","name","message","current","READY","lifecycleStatus","useLifecycleStatus","INIT","useCommerceContracts","status","writeContractsAsync","useWriteContracts","mutation","onSuccess","id","data","useCallsStatus","query","refetchInterval","state","enabled","transactionHash","receipts","receipt","useWaitForTransactionReceipt","hash","useEffect","PENDING","SUCCESS","transactionReceipts","receiptUrl","handleSubmit","window","open","INSUFFICIENT_BALANCE","connectedAddress","connectedChainId","accounts","_connectedChainId","connector","coinbaseWallet","preference","NO_CONNECTED_ADDRESS_ERROR","base","PAY_INSUFFICIENT_BALANCE_ERROR_MESSAGE","PAY_INSUFFICIENT_BALANCE_ERROR","length","NO_CONTRACTS_ERROR","capabilities","isUserRejectedError","includes","isUserRejectedRequestError","errorCode","USER_REJECTED_ERROR","JSON","stringify","value","useValue","onSubmit","_jsx","Provider"],"mappings":"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"}